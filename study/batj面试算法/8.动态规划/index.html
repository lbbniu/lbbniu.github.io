<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="http://fonts.useso.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <title>第八课动态规划  &middot; lbbniu</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="这里是lbbniu的个人博客" />

<meta name="keywords" content="">


<meta property="og:title" content="第八课动态规划  &middot; lbbniu ">
<meta property="og:site_name" content="lbbniu"/>
<meta property="og:url" content="https://blog.lbbniu.com/study/batj%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95/8.%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2021-11-20T17:18:16&#43;08:00" />
<meta property="og:article:modified_time" content="2021-11-20T17:18:16&#43;08:00" />

  

  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "第八课动态规划",
    "author": {
      "@type": "Person",
      "name": "lbbniu"
    },
    "datePublished": "2021-11-20",
    "description": "",
    "wordCount":  1085 
  }
</script>



<link rel="canonical" href="https://blog.lbbniu.com/study/batj%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95/8.%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://blog.lbbniu.com/touch-icon-144-precomposed.png">
<link href="https://blog.lbbniu.com/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.89.4" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/highlight/default.css">

  
  
</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="https://blog.lbbniu.com/">
  lbbniu

</a>

</div>

  
<div class="container topline">
  
  学无止境


</div>


</div>

  <nav class="container nav primary no-print">
  

<a class="homelink" href="https://blog.lbbniu.com/">首页</a>


  
<a href="https://blog.lbbniu.com/post" title="Show list of posts">列表</a>

<a href="https://blog.lbbniu.com/golang" title="Show list of tags">Golang</a>

<a href="https://blog.lbbniu.com/k8s" title="Show list of tags">Kubernetes</a>

<a href="https://blog.lbbniu.com/tags" title="Show list of tags">标签</a>

<a href="https://blog.lbbniu.com/about">关于</a>


</nav>

<div class="container nav secondary no-print">
  
<a id="contact-link-email" class="contact_link" rel="me" aria-label="Email" href="mailto:lbbniu@gmail.com">
  <span class="fa fa-envelope-square"></span></a>



<a id="contact-link-github" class="contact_link" rel="me" aria-label="Github" href="https://github.com/lbbniu">
  <span class="fa fa-github-square"></span></a>




 


















</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>第八课动态规划
</h1>

</header>

  <div class="container content">
  <h4 id="70-爬楼梯httpsleetcode-cncomproblemsclimbing-stairs"><a href="https://leetcode-cn.com/problems/climbing-stairs/">70. 爬楼梯</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">int</span> climbStairs(<span style="color:#66d9ef">int</span> n) {
        std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> dp(n <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>);
        dp[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
        dp[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
            dp[i] <span style="color:#f92672">=</span> dp[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> dp[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>];
        }
        <span style="color:#66d9ef">return</span> dp[n];
    }
};
</code></pre></div><h4 id="198-打家劫舍httpsleetcode-cncomproblemshouse-robber"><a href="https://leetcode-cn.com/problems/house-robber/">198. 打家劫舍</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">int</span> rob(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> nums) {
		<span style="color:#66d9ef">if</span> (nums.size() <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
        }
        <span style="color:#66d9ef">if</span> (nums.size() <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) {
            <span style="color:#66d9ef">return</span> nums[<span style="color:#ae81ff">0</span>];
        }
        <span style="color:#75715e">//设第一个房间的最优解dp[i]
</span><span style="color:#75715e"></span>        std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> dp(nums.size(), <span style="color:#ae81ff">0</span>);
        dp[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> nums[<span style="color:#ae81ff">0</span>];
        dp[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>max(nums[<span style="color:#ae81ff">0</span>], nums[<span style="color:#ae81ff">1</span>]);
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; i <span style="color:#f92672">&lt;</span> nums.size(); i<span style="color:#f92672">++</span>) {
            dp[i] <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>max(dp[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>], dp[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>] <span style="color:#f92672">+</span> nums[i]);
        }
        <span style="color:#66d9ef">return</span> dp[nums.size() <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>];
    }
};
</code></pre></div><h4 id="53-最大子序和httpsleetcode-cncomproblemsmaximum-subarray"><a href="https://leetcode-cn.com/problems/maximum-subarray/">53. 最大子序和</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">int</span> maxSubArray(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> nums) {
		std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> dp(nums.size(), <span style="color:#ae81ff">0</span>);
        dp[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> nums[<span style="color:#ae81ff">0</span>];
        <span style="color:#66d9ef">int</span> res_max <span style="color:#f92672">=</span> dp[<span style="color:#ae81ff">0</span>];
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> nums.size(); i<span style="color:#f92672">++</span>) {
            <span style="color:#75715e">//递推公式
</span><span style="color:#75715e"></span>            dp[i] <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>max(dp[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> nums[i], nums[i]);
            <span style="color:#66d9ef">if</span> (res_max <span style="color:#f92672">&lt;</span> dp[i]) {
                res_max <span style="color:#f92672">=</span> dp[i];
            }
        }
        <span style="color:#66d9ef">return</span> res_max;
    }
};
</code></pre></div><h4 id="322-零钱兑换httpsleetcode-cncomproblemscoin-change"><a href="https://leetcode-cn.com/problems/coin-change/">322. 零钱兑换</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">int</span> coinChange(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> coins, <span style="color:#66d9ef">int</span> amount) {
		std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> dp;
        <span style="color:#75715e">//初始化dp数组
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;=</span> amount; i<span style="color:#f92672">++</span>) {
            dp.push_back(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
        }
        dp[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//金额0最优解0
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> amount; i<span style="color:#f92672">++</span>) {
            <span style="color:#75715e">//循环各个面值，找到dp[i]最优解
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> coins.size(); j<span style="color:#f92672">++</span>) {
                <span style="color:#66d9ef">if</span> (coins[j] <span style="color:#f92672">&lt;=</span> i <span style="color:#f92672">&amp;&amp;</span> dp[i <span style="color:#f92672">-</span> coins[j]] <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
                    <span style="color:#66d9ef">if</span> (dp[i] <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">||</span> dp[i] <span style="color:#f92672">&gt;</span> dp[i <span style="color:#f92672">-</span> coins[j]] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) {
                        <span style="color:#75715e">//递推公式
</span><span style="color:#75715e"></span>                        dp[i] <span style="color:#f92672">=</span> dp[i <span style="color:#f92672">-</span> coins[j]] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
                    }
                }
            }
        }
        <span style="color:#66d9ef">return</span> dp[amount];
    }
};
</code></pre></div><h4 id="120-三角形最小路径和httpsleetcode-cncomproblemstriangle"><a href="https://leetcode-cn.com/problems/triangle/">120. 三角形最小路径和</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">int</span> minimumTotal(vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;&amp;</span> triangle) {
		<span style="color:#66d9ef">if</span> (triangle.size() <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
        }
        std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> dp;
        <span style="color:#75715e">//初始化dp三角形
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> triangle.size(); i<span style="color:#f92672">++</span>) {
            dp.push_back(std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>());
            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> triangle[i].size(); j<span style="color:#f92672">++</span>) {
                dp[i].push_back(<span style="color:#ae81ff">0</span>);
            }
        }
        <span style="color:#75715e">//初始化最后一行
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> dp.size(); i<span style="color:#f92672">++</span>) {
            dp[dp.size()<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][i] <span style="color:#f92672">=</span> triangle[dp.size()<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][i];
        }
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> dp.size() <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>; i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; i<span style="color:#f92672">--</span>) {
            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> dp[i].size(); j<span style="color:#f92672">++</span>) {
                <span style="color:#75715e">//计算dp[i][j]
</span><span style="color:#75715e"></span>                dp[i][j] <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>min(dp[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>][j], dp[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>][j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]) <span style="color:#f92672">+</span> triangle[i][j];
            }
        }
        <span style="color:#66d9ef">return</span> dp[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>];
    }
};
</code></pre></div><h4 id="300-最长上升子序列httpsleetcode-cncomproblemslongest-increasing-subsequence"><a href="https://leetcode-cn.com/problems/longest-increasing-subsequence/">300. 最长上升子序列</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">int</span> lengthOfLIS(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> nums) {
        <span style="color:#66d9ef">int</span> row <span style="color:#f92672">=</span> nums.size();
		<span style="color:#66d9ef">if</span> (row <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
        }
        std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> dp(row, <span style="color:#ae81ff">0</span>);
        dp[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">int</span> LIS <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> row; i<span style="color:#f92672">++</span>) {
            dp[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> i; j<span style="color:#f92672">++</span>) {
                <span style="color:#66d9ef">if</span> (nums[i] <span style="color:#f92672">&gt;</span> nums[j] <span style="color:#f92672">&amp;&amp;</span> dp[i] <span style="color:#f92672">&lt;</span> dp[j] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) {
                    dp[i] <span style="color:#f92672">=</span> dp[j] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
                }
            }
            <span style="color:#66d9ef">if</span> (LIS <span style="color:#f92672">&lt;</span> dp[i]) {
                LIS <span style="color:#f92672">=</span> dp[i];
            }
        }
        <span style="color:#66d9ef">return</span> LIS;
    }
    <span style="color:#75715e">//利用栈
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">lengthOfLIS1</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> nums) {
		<span style="color:#66d9ef">int</span> row <span style="color:#f92672">=</span> nums.size();
        <span style="color:#66d9ef">if</span> (row <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
        }
        std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> stack;
        stack.push_back(nums[<span style="color:#ae81ff">0</span>]);
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> row; i<span style="color:#f92672">++</span>) {
            <span style="color:#75715e">//比栈顶元素大，push
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span> (nums[i] <span style="color:#f92672">&gt;</span> stack.back()) {
                stack.push_back(nums[i]);
            } <span style="color:#66d9ef">else</span> {
                <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> stack.size(); j<span style="color:#f92672">++</span>) {
                    <span style="color:#66d9ef">if</span> (nums[i] <span style="color:#f92672">&lt;=</span> stack[j]) {
                        stack[j] <span style="color:#f92672">=</span> nums[i];
                        <span style="color:#66d9ef">break</span>;
                    }
                }
            }
        }
        <span style="color:#66d9ef">return</span> stack.size();
    }
    <span style="color:#75715e">//二分查找
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">lengthOfLIS2</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> nums) {
		<span style="color:#66d9ef">int</span> row <span style="color:#f92672">=</span> nums.size();
        <span style="color:#66d9ef">if</span> (row <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
        }
        std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> stack;
        stack.push_back(nums[<span style="color:#ae81ff">0</span>]);
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> row; i<span style="color:#f92672">++</span>) {
            <span style="color:#75715e">//比栈顶元素大，push
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span> (nums[i] <span style="color:#f92672">&gt;</span> stack.back()) {
                stack.push_back(nums[i]);
            } <span style="color:#66d9ef">else</span> {
                <span style="color:#66d9ef">int</span> pos <span style="color:#f92672">=</span> binary_search(stack, nums[i]);
                stack[pos] <span style="color:#f92672">=</span> nums[i];
            }
        }
        <span style="color:#66d9ef">return</span> stack.size();
    }
    <span style="color:#75715e">//二分查找，查找比指定元素大的第一元素
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">binary_search</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> stack, <span style="color:#66d9ef">int</span> num) {
        <span style="color:#66d9ef">int</span> start <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">int</span> end <span style="color:#f92672">=</span> stack.size() <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">while</span> (start <span style="color:#f92672">&lt;=</span> end) {
            <span style="color:#66d9ef">int</span> mid <span style="color:#f92672">=</span> start <span style="color:#f92672">+</span> ((end <span style="color:#f92672">-</span> start) <span style="color:#f92672">&gt;&gt;</span> <span style="color:#ae81ff">1</span>);
            <span style="color:#66d9ef">if</span> (num <span style="color:#f92672">&lt;=</span> stack[mid]) {
                <span style="color:#66d9ef">if</span> (mid <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> statck[mid <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">&lt;</span> num) {
                    <span style="color:#66d9ef">return</span> mid;
                }
                end <span style="color:#f92672">=</span> mid <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
            } <span style="color:#66d9ef">else</span> {
                start <span style="color:#f92672">=</span> mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
            }
        }
        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
    }
    <span style="color:#75715e">//二分查找，查找比指定元素大的第一元素
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">binary_search2</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> nums, <span style="color:#66d9ef">int</span> target) {
        <span style="color:#66d9ef">int</span> index <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">int</span> begin <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">int</span> end <span style="color:#f92672">=</span> stack.size() <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">while</span> (index <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
            <span style="color:#66d9ef">int</span> mid <span style="color:#f92672">=</span> (begin <span style="color:#f92672">+</span> end) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>;
            <span style="color:#66d9ef">if</span> (target <span style="color:#f92672">==</span> nums[mid]) {
                index <span style="color:#f92672">=</span> mid;
            } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (target <span style="color:#f92672">&lt;</span> nums[mid]) {
                <span style="color:#66d9ef">if</span> (mid <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> nums[mid <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">&lt;</span> target) {
                    <span style="color:#66d9ef">return</span> mid;
                }
                end <span style="color:#f92672">=</span> mid <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
            } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (target <span style="color:#f92672">&gt;</span> nums[mid]) {
                <span style="color:#66d9ef">if</span> (mid <span style="color:#f92672">==</span> nums.size() <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">||</span> target <span style="color:#f92672">&lt;</span> nums[mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]) {
                    index <span style="color:#f92672">=</span> mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
                }
                begin <span style="color:#f92672">=</span> mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
            }
        }
        <span style="color:#66d9ef">return</span> index;
    }
};
</code></pre></div><h4 id="64-最小路径和httpsleetcode-cncomproblemsminimum-path-sum"><a href="https://leetcode-cn.com/problems/minimum-path-sum/">64. 最小路径和</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">int</span> minPathSum(vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;&amp;</span> grid) {
		<span style="color:#66d9ef">if</span> (grid.size() <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
        }
        <span style="color:#66d9ef">int</span> row <span style="color:#f92672">=</span> grid.size();
        <span style="color:#66d9ef">int</span> column <span style="color:#f92672">=</span> grid[<span style="color:#ae81ff">0</span>].size();
        std:vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> dp(row, std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(column, <span style="color:#ae81ff">0</span>));
        dp[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> grid[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>];
        <span style="color:#75715e">//初始化第一行
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> column; i<span style="color:#f92672">++</span>) {
            dp[<span style="color:#ae81ff">0</span>][i] <span style="color:#f92672">=</span> dp[<span style="color:#ae81ff">0</span>][i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> grid[<span style="color:#ae81ff">0</span>][i];
        }
        <span style="color:#75715e">//从第二行开始
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> row; i<span style="color:#f92672">++</span>) {
            dp[i][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> dp[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> grid[i][<span style="color:#ae81ff">0</span>];
            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; j <span style="color:#f92672">&lt;</span> column; j<span style="color:#f92672">++</span>) {
                <span style="color:#75715e">//上边和左边选最小的  加上当前的数字
</span><span style="color:#75715e"></span>                dp[i][j] <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>min(dp[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>][j], dp[i][j <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]) <span style="color:#f92672">+</span> grid[i][j]; 
            }
        }
        <span style="color:#66d9ef">return</span> dp[row <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>][column <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>];
    }
};
</code></pre></div><h4 id="174-地下城游戏httpsleetcode-cncomproblemsdungeon-game"><a href="https://leetcode-cn.com/problems/dungeon-game/">174. 地下城游戏</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">int</span> calculateMinimumHP(vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;&amp;</span> dungeon) {
        <span style="color:#66d9ef">if</span> (dungeon.size() <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
        }    
        <span style="color:#66d9ef">int</span> row <span style="color:#f92672">=</span> dungeon.size();
        <span style="color:#66d9ef">int</span> column <span style="color:#f92672">=</span> dungeon[<span style="color:#ae81ff">0</span>].size();
        std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> dp(row, std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(column, <span style="color:#ae81ff">0</span>));
        dp[row<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][column<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>max(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> dungeon[row<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][column<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]);
        <span style="color:#75715e">//计算最后一行dp
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> column <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>; j <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; j<span style="color:#f92672">--</span>) {
            dp[row<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j] <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>max(<span style="color:#ae81ff">1</span>, dp[row<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> dungeon[row<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j]);
        }
        <span style="color:#75715e">//计算最后一列dp
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> row <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>; i <span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">--</span>) {
            dp[i][column<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>max(<span style="color:#ae81ff">1</span>, dp[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>][column<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> dungeon[i][column<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]);
        }
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> row <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>; i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; i<span style="color:#f92672">--</span>) {
            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> column <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>; j <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; j<span style="color:#f92672">--</span>) {
                <span style="color:#75715e">//取右边或者下边最小的血量
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">int</span> dp_min <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>min(dp[i][j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>], dp[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>][j]);
                dp[i][j] <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>max(<span style="color:#ae81ff">1</span>, dp_min <span style="color:#f92672">-</span> dungeon[i][j]);
            }
        }
		<span style="color:#66d9ef">return</span> dp[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>];
    }
};
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {

    <span style="color:#e6db74">/**
</span><span style="color:#e6db74">     * @param Integer[][] $dungeon
</span><span style="color:#e6db74">     * @return Integer
</span><span style="color:#e6db74">     */</span>
    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">calculateMinimumHP</span>($dungeon) {
        <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">empty</span>($dungeon)) {
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
        }
        $row <span style="color:#f92672">=</span> <span style="color:#a6e22e">count</span>($dungeon);
        $column <span style="color:#f92672">=</span> <span style="color:#a6e22e">count</span>($dungeon[<span style="color:#ae81ff">0</span>]);
        $dp <span style="color:#f92672">=</span> [];
        $dp[$row <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>][$column <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> $dungeon[$row <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>][$column <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]);
        <span style="color:#75715e">//最后一行
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> $column <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>; $i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; $i<span style="color:#f92672">--</span>) {
            $dp[$row <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>][$i] <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(<span style="color:#ae81ff">1</span>, $dp[$row <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>][$i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> $dungeon[$row <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>][$i]);
        }
        <span style="color:#75715e">//最后一列
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> $row <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>; $i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; $i<span style="color:#f92672">--</span>) {
            $dp[$i][$column <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(<span style="color:#ae81ff">1</span>, $dp[$i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>][$column <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> $dungeon[$i][$column <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]);
        }
        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> $row <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>; $i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; $i<span style="color:#f92672">--</span>) {
            <span style="color:#66d9ef">for</span> ($j <span style="color:#f92672">=</span> $column <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>; $j <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; $j<span style="color:#f92672">--</span>) {
                $dp[$i][$j] <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(<span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">min</span>($dp[$i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>][$j], $dp[$i][$j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]) <span style="color:#f92672">-</span> $dungeon[$i][$j]);
            }
        }
        <span style="color:#66d9ef">return</span> $dp[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>];
    }
}
</code></pre></div>
</div>


  
</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  
<a href="https://blog.lbbniu.com/license">license</a>


  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  
<div class="container footline">
  
  code with <!-- raw HTML omitted --><!-- raw HTML omitted -->


</div>


  
<div class="container copyright">
  
  (c) 2021 lbbniu.


</div>


</div>

</footer>

    </main>
    


<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



    
  </body>
</html>

